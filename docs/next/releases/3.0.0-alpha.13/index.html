<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-releases/3.0.0-alpha.13">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">LibreTime 3.0.0 alpha 13 | LibreTime</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://libretime.org/docs/next/releases/3.0.0-alpha.13/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="LibreTime 3.0.0 alpha 13 | LibreTime"><meta data-rh="true" name="description" content="Contributors"><meta data-rh="true" property="og:description" content="Contributors"><link data-rh="true" rel="icon" href="/img/icon.svg"><link data-rh="true" rel="canonical" href="https://libretime.org/docs/next/releases/3.0.0-alpha.13/"><link data-rh="true" rel="alternate" href="https://libretime.org/docs/next/releases/3.0.0-alpha.13/" hreflang="en"><link data-rh="true" rel="alternate" href="https://libretime.org/docs/next/releases/3.0.0-alpha.13/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.e285088e.css">
<link rel="preload" href="/assets/js/runtime~main.8d8b7c88.js" as="script">
<link rel="preload" href="/assets/js/main.29f6d213.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/icon.svg" alt="LibreTime tower" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/icon.svg" alt="LibreTime tower" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">LibreTime</b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/">Docs</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/admin-manual/">Admin manual</a></li><li><a class="dropdown__link" href="/docs/user-manual/">User manual</a></li><li><a class="dropdown__link" href="/docs/developer-manual/">Developer manual</a></li></ul></div><a class="navbar__item navbar__link" href="/contribute/">Contribute</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/libretime/libretime" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discourse.libretime.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discourse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://chat.libretime.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Mattermost<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/next/">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/next/releases/3.0.0-alpha.13/">Next</a></li><li><a class="dropdown__link" href="/docs/releases/3.0.0-alpha.13/">3.0.0-alpha.13</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/">Welcome</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/next/admin-manual/">Admin manual</a><button aria-label="Toggle the collapsible sidebar category &#x27;Admin manual&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/next/user-manual/">User manual</a><button aria-label="Toggle the collapsible sidebar category &#x27;User manual&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/next/developer-manual/">Developer manual</a><button aria-label="Toggle the collapsible sidebar category &#x27;Developer manual&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/next/releases/">Releases</a><button aria-label="Toggle the collapsible sidebar category &#x27;Releases&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/releases/unreleased/">Unreleased</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/next/releases/3.0.0-alpha.13/">LibreTime 3.0.0 alpha 13</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/releases/3.0.0-alpha.12/">LibreTime 3.0.0 alpha 12</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/releases/3.0.0-alpha.11/">LibreTime 3.0.0 alpha 11</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/releases/3.0.0-alpha.10/">LibreTime 3.0.0 alpha 10</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/releases/3.0.0-alpha.09/">LibreTime 3.0.0 alpha 9</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/releases/3.0.0-alpha.08/">LibreTime 3.0.0 alpha 8</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/releases/3.0.0-alpha.07/">LibreTime 3.0.0 alpha 7</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/releases/3.0.0-alpha.06/">LibreTime 3.0.0 alpha 6</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/releases/3.0.0-alpha.05/">LibreTime 3.0.0 alpha 5</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/releases/3.0.0-alpha.04/">LibreTime 3.0.0 alpha 4</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/releases/3.0.0-alpha.03/">LibreTime 3.0.0 alpha 3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/releases/3.0.0-alpha.02/">LibreTime 3.0.0 alpha 2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/releases/3.0.0-alpha.01/">LibreTime 3.0.0 alpha 1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/releases/3.0.0-alpha.00/">LibreTime 3.0.0 alpha</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/next/appendix/hd-audio-modules/">Appendix</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->LibreTime<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/releases/3.0.0-alpha.13/">latest version</a></b> (<!-- -->3.0.0-alpha.13<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/next/releases/"><span itemprop="name">Releases</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">LibreTime 3.0.0 alpha 13</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>LibreTime 3.0.0 alpha 13</h1></header><p>This version was released the <strong>2022-07-15</strong>.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Please report new issues and/or feature requests in <a href="https://github.com/libretime/libretime/issues" target="_blank" rel="noopener noreferrer">the issue tracker</a>.</p><p>Join our <a href="https://discourse.libretime.org/" target="_blank" rel="noopener noreferrer">discourse</a> or chat with us on our <a href="https://chat.libretime.org/" target="_blank" rel="noopener noreferrer">mattermost</a> if you need help and for general discussion.</p></div></div><p>The full tarball for the <code>3.0.0-alpha.13</code> release of LibreTime is available <a href="https://github.com/libretime/libretime/releases/download/3.0.0-alpha.13/libretime-3.0.0-alpha.13.tar.gz" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-contributors">üíñ Contributors<a class="hash-link" href="#-contributors" title="Direct link to heading">‚Äã</a></h2><p>The LibreTime project wants to thank the following contributors for authoring PRs to this release:</p><ul><li>@jooola</li><li>@paddatrapper</li><li>rinka</li><li>Maxime Leroy</li><li>Mykola</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-features">üöÄ Features<a class="hash-link" href="#-features" title="Direct link to heading">‚Äã</a></h2><ul><li>remove unused python3-venv package (<a href="https://github.com/libretime/libretime/issues/1728" target="_blank" rel="noopener noreferrer">#1728</a>)</li><li><strong>api:</strong> split api into multiple apps (<a href="https://github.com/libretime/libretime/issues/1626" target="_blank" rel="noopener noreferrer">#1626</a>)</li><li>improve apache configuration (<a href="https://github.com/libretime/libretime/issues/1784" target="_blank" rel="noopener noreferrer">#1784</a>)</li><li><strong>api:</strong> replace uwsgi with gunicorn (<a href="https://github.com/libretime/libretime/issues/1785" target="_blank" rel="noopener noreferrer">#1785</a>)</li><li>replace exploded base<!-- -->_<!-- -->*<!-- --> with public_url</li><li><strong>shared:</strong> compress logs with gz (<a href="https://github.com/libretime/libretime/issues/1827" target="_blank" rel="noopener noreferrer">#1827</a>)</li><li><strong>shared:</strong> remove unused abstract app (<a href="https://github.com/libretime/libretime/issues/1828" target="_blank" rel="noopener noreferrer">#1828</a>)</li><li>replace click envar with auto_envvar_prefix (<a href="https://github.com/libretime/libretime/issues/1829" target="_blank" rel="noopener noreferrer">#1829</a>)</li><li><strong>shared:</strong> allow to disable log rotate/retention</li><li><strong>legacy:</strong> change logrotate config deploy path</li><li>rotate logs using libretime user</li><li><strong>legacy:</strong> improve rabbitmq check (<a href="https://github.com/libretime/libretime/issues/1839" target="_blank" rel="noopener noreferrer">#1839</a>)</li><li><strong>worker:</strong> don&#x27;t run with a dedicated user</li><li><strong>playout:</strong> remove unused liquidsoap_prepare_terminate.py (<a href="https://github.com/libretime/libretime/issues/1854" target="_blank" rel="noopener noreferrer">#1854</a>)</li><li><strong>legacy:</strong> check services using systemctl (<a href="https://github.com/libretime/libretime/issues/1856" target="_blank" rel="noopener noreferrer">#1856</a>)</li><li>change config file format to yaml</li><li>change config filename to config.yml</li><li>change config dir path to /etc/libretime</li><li><strong>installer:</strong> rewrite install script</li><li>replace php migration with django migration</li><li>drop cc_locale table</li><li><strong>api:</strong> create set_icecast_passwords command</li><li><strong>installer:</strong> post install setup instructions</li><li>add systemd libretime.target</li><li>move allowed cors url to configuration file</li><li>remove php web installer</li><li>move storage path setting to configuration file</li><li><strong>installer:</strong> rename shared files path to /usr/share/libretime</li><li><strong>shared:</strong> add config trailing slash sanitizer (<a href="https://github.com/libretime/libretime/issues/1870" target="_blank" rel="noopener noreferrer">#1870</a>)</li><li>rename default stream mount point to main</li><li><strong>api:</strong> rename user model fields (<a href="https://github.com/libretime/libretime/issues/1902" target="_blank" rel="noopener noreferrer">#1902</a>)</li><li>remove unused cc_sess table (<a href="https://github.com/libretime/libretime/issues/1907" target="_blank" rel="noopener noreferrer">#1907</a>)</li><li>remove unused cc_perms table (<a href="https://github.com/libretime/libretime/issues/1909" target="_blank" rel="noopener noreferrer">#1909</a>)</li><li><strong>api:</strong> rename podcasts models fields (<a href="https://github.com/libretime/libretime/issues/1910" target="_blank" rel="noopener noreferrer">#1910</a>)</li><li><strong>analyzer:</strong> move compute_md5 to shared library</li><li><strong>api:</strong> create bulk_import command</li><li><strong>legacy:</strong> compute md5 during early upload</li><li><strong>api:</strong> rename track type to library</li><li><strong>legacy:</strong> add Ukrainian language</li><li><strong>legacy:</strong> don&#x27;t guess cors url from server</li><li><strong>installer:</strong> load .env file to persistent install config</li><li>use dedicated &#x27;libretime&#x27; user</li><li>replace apache2 with nginx + php-fpm</li><li><strong>api:</strong> listen on unix socket with gunicorn</li><li><strong>api:</strong> use uvicorn as asgi server with gunicorn</li><li>set default locale to en_US</li><li>remove unused cc_country table</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-bug-fixes">üêõ Bug fixes<a class="hash-link" href="#-bug-fixes" title="Direct link to heading">‚Äã</a></h2><ul><li>add gettext for legacy locale generation (<a href="https://github.com/libretime/libretime/issues/1720" target="_blank" rel="noopener noreferrer">#1720</a>)</li><li><strong>installer:</strong> install software-properties-common when required</li><li><strong>installer:</strong> always install fresh packages</li><li><strong>api:</strong> prevent timing attacke on api key (<a href="https://github.com/libretime/libretime/issues/1771" target="_blank" rel="noopener noreferrer">#1771</a>)</li><li><strong>legacy:</strong> load vendors during config init</li><li><strong>legacy:</strong> bypass config validation during django migration</li><li><strong>legacy:</strong> the ini config parser requires a .conf ext</li><li><strong>playout:</strong> disable playout-notify log rotation</li><li>don&#x27;t set log folder permissions recursively</li><li><strong>shared:</strong> allow list settings (<a href="https://github.com/libretime/libretime/issues/1837" target="_blank" rel="noopener noreferrer">#1837</a>)</li><li><strong>legacy:</strong> station url always has a trailing slash (<a href="https://github.com/libretime/libretime/issues/1838" target="_blank" rel="noopener noreferrer">#1838</a>)</li><li><strong>legacy:</strong> check if libretime-api is running (<a href="https://github.com/libretime/libretime/issues/1841" target="_blank" rel="noopener noreferrer">#1841</a>)</li><li>don&#x27;t add track types only on migration</li><li>correct cc_file.artwork column size</li><li><strong>legacy:</strong> remove not null constraint when using default</li><li><strong>api:</strong> missing build-essential to build psycopg2</li><li>drop unused sequences</li><li><strong>api:</strong> allow updating default_icecast_password (<a href="https://github.com/libretime/libretime/issues/1872" target="_blank" rel="noopener noreferrer">#1872</a>)</li><li><strong>deps:</strong> update dependency <a href="https://github.com/cmfcmf" target="_blank" rel="noopener noreferrer">@cmfcmf</a>/docusaurus-search-local to ^0.11.0 (<a href="https://github.com/libretime/libretime/issues/1873" target="_blank" rel="noopener noreferrer">#1873</a>)</li><li><strong>legacy:</strong> remove file directory metadata (<a href="https://github.com/libretime/libretime/issues/1887" target="_blank" rel="noopener noreferrer">#1887</a>)</li><li><strong>api:</strong> update model fields in set_icecast_passwords (<a href="https://github.com/libretime/libretime/issues/1903" target="_blank" rel="noopener noreferrer">#1903</a>)</li><li><strong>api:</strong> cascade when dropping table (<a href="https://github.com/libretime/libretime/issues/1908" target="_blank" rel="noopener noreferrer">#1908</a>)</li><li><strong>legacy:</strong> station-metadata api endpoint</li><li><strong>legacy:</strong> don&#x27;t log &#x27;could not obtain lock&#x27; exception (<a href="https://github.com/libretime/libretime/issues/1943" target="_blank" rel="noopener noreferrer">#1943</a>)</li><li><strong>legacy:</strong> check empty before iteration on files</li><li>use constrained foreign key for files track_type</li><li><strong>deps:</strong> update dependency mermaid to v9.1.2 <!-- -->[security]<!-- --> (<a href="https://github.com/libretime/libretime/issues/1948" target="_blank" rel="noopener noreferrer">#1948</a>)</li><li><strong>installer:</strong> update version file unless tarball (<a href="https://github.com/libretime/libretime/issues/1950" target="_blank" rel="noopener noreferrer">#1950</a>)</li><li>prevent data loose on track_types_id migration (<a href="https://github.com/libretime/libretime/issues/1949" target="_blank" rel="noopener noreferrer">#1949</a>)</li><li>use track_type_id in smartblock criteria</li><li><strong>legacy:</strong> no invalid track type in smartblock criteria</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-deprecation-and-removal">üî• Deprecation and removal<a class="hash-link" href="#-deprecation-and-removal" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="allowed-cors-origins-configuration-location">Allowed CORS origins configuration location<a class="hash-link" href="#allowed-cors-origins-configuration-location" title="Direct link to heading">‚Äã</a></h3><p>The allowed CORS origins configuration moved from the database to the configuration file. The field in the general preference form is deprecated and will be removed in the next release. Be sure to move your allowed CORS origins configuration to the <a href="/docs/next/admin-manual/setup/configuration/">configuration file</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-before-upgrading">‚¨ÜÔ∏è Before upgrading<a class="hash-link" href="#Ô∏è-before-upgrading" title="Direct link to heading">‚Äã</a></h2><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Please run this <strong>before the upgrade procedure</strong>!</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="repair-broken-track-types">Repair broken track types<a class="hash-link" href="#repair-broken-track-types" title="Direct link to heading">‚Äã</a></h3><p>The database files track type field was previously not constrained and this might have lead to files referencing a now renamed or missing track type. To preserve as much data as possible during the database migration process, you need to check whether some files have broken or missing track type references and fix them accordingly. To list broken track type references, you can run the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> -u www-data libretime-api dbshell --command</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    SELECT f.id, f.track_type, f.track_title, f.artist_name, f.filepath</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    FROM cc_files f</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    WHERE NOT EXISTS (</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">        SELECT FROM cc_track_types tt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">        WHERE tt.code = f.track_type</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    )</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    AND f.track_type IS NOT NULL</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    AND f.track_type &lt;&gt; &#x27;&#x27;;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If the above command outputs the following, no file needs fixing.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> id | track_type | track_title | artist_name | filepath</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">----+------------+-------------+-------------+----------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">(0 rows)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In addition, the database smart block criteria value was previously referencing track types using codes, and should now reference track types using ids. You need to check whether some smart block have broken track type references and fix them accordingly. To list broken track type references, you can run the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> -u www-data libretime-api dbshell --command</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    SELECT b.name, c.criteria, c.modifier, c.value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    FROM cc_blockcriteria c, cc_block b</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    WHERE c.block_id = b.id</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    AND NOT EXISTS (</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">        SELECT FROM cc_track_types tt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">        WHERE tt.code = c.value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    )</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    AND criteria = &#x27;track_type&#x27;;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If the above command outputs the following, no smart block needs fixing.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> name | criteria | modifier | value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">------+----------+----------+-------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">(0 rows)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-configuration-file">New configuration file<a class="hash-link" href="#new-configuration-file" title="Direct link to heading">‚Äã</a></h3><p>The configuration file name changed from <code>airtime.conf</code> to <code>config.yml</code>. Please rename your configuration file using the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">mv</span><span class="token plain"> /etc/airtime/airtime.conf /etc/airtime/config.yml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The configuration directory changed from <code>/etc/airtime</code> to <code>/etc/libretime</code>. Please rename your configuration directory using the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">mv</span><span class="token plain"> /etc/airtime /etc/libretime</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The configuration file format changed to <code>yml</code> and the configuration schema changed. Please rewrite your <a href="/docs/next/admin-manual/setup/configuration/">configuration file</a> using the <a href="https://yaml.org/" target="_blank" rel="noopener noreferrer">yaml format</a>. An example configuration file <code>installer/config.yml</code> is present in the sources.</p><p>The <code>general</code> section has been changed:</p><ul><li>the¬†<code>general.protocol</code>, <code>general.base_url</code>, <code>general.base_port</code>, <code>general.base_dir</code> and <code>general.force_ssl</code> entries were replaced with a single <code>general.public_url</code> entry, be sure to use a valid url with the new configuration entry.</li></ul><p>A new <code>storage</code> section has been added:</p><ul><li>the <code>storage.path</code> entry was added to move the storage configuration from the database to the configuration file, be sure to edit your configuration with the path to your storage. The default storage path value is <code>/srv/libretime</code>.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nginx-apache-and-php">Nginx, Apache and PHP<a class="hash-link" href="#nginx-apache-and-php" title="Direct link to heading">‚Äã</a></h3><p>The <code>apache2</code> web server has been replaced with <code>nginx</code> and <code>php-fpm</code>, be sure to uninstall <code>apache2</code> and clean related configuration files:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> -f /etc/apache2/sites-*/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">airtime,libretime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">*</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> -f /etc/php/*/apache2/conf.d/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">airtime,libretime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">*</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> purge </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;apache2&#x27;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;libapache2-mod-php*&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">find</span><span class="token plain"> /var/lib/php/sessions -name </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;sess_*&#x27;</span><span class="token plain"> -delete</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="shared-files-path">Shared files path<a class="hash-link" href="#shared-files-path" title="Direct link to heading">‚Äã</a></h3><p>The shared files path changed from <code>/usr/share/airtime</code> to <code>/usr/share/libretime</code>. The directory must be renamed:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">mv</span><span class="token plain"> /usr/share/airtime /usr/share/libretime</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="systemd-services-path">Systemd services path<a class="hash-link" href="#systemd-services-path" title="Direct link to heading">‚Äã</a></h3><p>The systemd services path changed from <code>/etc/systemd/system/libretime*</code> to <code>/usr/lib/systemd/system/libretime*</code>. The services must be moved:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">mv</span><span class="token plain"> /etc/systemd/system/libretime* /usr/lib/systemd/system/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl daemon-reload</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="replaced-uwsgi-with-gunicorn">Replaced uWSGI with Gunicorn<a class="hash-link" href="#replaced-uwsgi-with-gunicorn" title="Direct link to heading">‚Äã</a></h3><p><a href="https://uwsgi-docs.readthedocs.io" target="_blank" rel="noopener noreferrer">uWSGI</a> was replaced by <a href="https://gunicorn.org/" target="_blank" rel="noopener noreferrer">Gunicorn</a>, the packages and configuration file should be removed from the system:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Remove the configuration file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> -f /etc/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">airtime,libretime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">/libretime-api.ini</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Remove the packages</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> purge </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    uwsgi </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    uwsgi-plugin-python3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="logrotate-config-filepath">Logrotate config filepath<a class="hash-link" href="#logrotate-config-filepath" title="Direct link to heading">‚Äã</a></h3><p>The legacy logrotate config filepath was changed from <code>/etc/logrotate.d/airtime-php</code> to <code>/etc/logrotate.d/libretime-legacy</code>. The old configuration file must be removed:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Remove the configuration file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> -f /etc/logrotate.d/airtime-php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="worker-user">Worker user<a class="hash-link" href="#worker-user" title="Direct link to heading">‚Äã</a></h3><p>The worker service no longer uses a dedicated <code>celery</code> user to run. The old <code>celery</code> user can be removed from the system:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Remove the celery user</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> deluser celery</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-upgrading">‚¨ÜÔ∏è Upgrading<a class="hash-link" href="#Ô∏è-upgrading" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-installer">New installer<a class="hash-link" href="#new-installer" title="Direct link to heading">‚Äã</a></h3><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>Please be careful when running this new installer, it might not be bug free.</p></div></div><p>The <a href="/docs/next/admin-manual/setup/install/#run-the-installer">bash installer</a> has been rewritten, the flags and options changed, please run <code>./install --help</code> to get more details.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="libretime-user">LibreTime user<a class="hash-link" href="#libretime-user" title="Direct link to heading">‚Äã</a></h3><p>The LibreTime services now run using a dedicated <code>libretime</code> user instead of the default <code>www-data</code> user. Be sure to change the ownership of the LibreTime files:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Configuration directory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">chown</span><span class="token plain"> -R libretime:libretime /etc/libretime</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Logs directory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">chown</span><span class="token plain"> -R libretime:libretime /var/log/libretime</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Runtime directory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">chown</span><span class="token plain"> -R libretime:libretime /var/lib/libretime</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Storage directory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">chown</span><span class="token plain"> -R libretime:libretime /srv/libretime</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/libretime/libretime/blob/main/docs/../docs/releases/3.0.0-alpha.13.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/next/releases/unreleased/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Unreleased</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/next/releases/3.0.0-alpha.12/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">LibreTime 3.0.0 alpha 12</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#-contributors" class="table-of-contents__link toc-highlight">üíñ Contributors</a></li><li><a href="#-features" class="table-of-contents__link toc-highlight">üöÄ Features</a></li><li><a href="#-bug-fixes" class="table-of-contents__link toc-highlight">üêõ Bug fixes</a></li><li><a href="#-deprecation-and-removal" class="table-of-contents__link toc-highlight">üî• Deprecation and removal</a><ul><li><a href="#allowed-cors-origins-configuration-location" class="table-of-contents__link toc-highlight">Allowed CORS origins configuration location</a></li></ul></li><li><a href="#Ô∏è-before-upgrading" class="table-of-contents__link toc-highlight">‚¨ÜÔ∏è Before upgrading</a><ul><li><a href="#repair-broken-track-types" class="table-of-contents__link toc-highlight">Repair broken track types</a></li><li><a href="#new-configuration-file" class="table-of-contents__link toc-highlight">New configuration file</a></li><li><a href="#nginx-apache-and-php" class="table-of-contents__link toc-highlight">Nginx, Apache and PHP</a></li><li><a href="#shared-files-path" class="table-of-contents__link toc-highlight">Shared files path</a></li><li><a href="#systemd-services-path" class="table-of-contents__link toc-highlight">Systemd services path</a></li><li><a href="#replaced-uwsgi-with-gunicorn" class="table-of-contents__link toc-highlight">Replaced uWSGI with Gunicorn</a></li><li><a href="#logrotate-config-filepath" class="table-of-contents__link toc-highlight">Logrotate config filepath</a></li><li><a href="#worker-user" class="table-of-contents__link toc-highlight">Worker user</a></li></ul></li><li><a href="#Ô∏è-upgrading" class="table-of-contents__link toc-highlight">‚¨ÜÔ∏è Upgrading</a><ul><li><a href="#new-installer" class="table-of-contents__link toc-highlight">New installer</a></li><li><a href="#libretime-user" class="table-of-contents__link toc-highlight">LibreTime user</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/admin-manual/">Admin manual</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/user-manual/">User manual</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/developer-manual/">Developer manual</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discourse.libretime.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discourse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://chat.libretime.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mattermost<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/libretime/libretime" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Code licensed under AGPLv3; docs licensed under GPLv2.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.8d8b7c88.js"></script>
<script src="/assets/js/main.29f6d213.js"></script>
</body>
</html>