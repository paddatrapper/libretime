<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<title data-react-helmet="true">Host configuration | Libretime</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://libretime.org/docs/server-config/host-configuration/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Host configuration | Libretime"><meta data-react-helmet="true" name="description" content="The streaming host configuration for LibreTime is shown in the file /etc/airtime/liquidsoap.cfg which is automatically generated by the Streams page, found on the System menu of the LibreTime administration interface. For this reason, you would not normally edit the streaming configuration manually, as any changes are likely to be overwritten by the administration interface."><meta data-react-helmet="true" property="og:description" content="The streaming host configuration for LibreTime is shown in the file /etc/airtime/liquidsoap.cfg which is automatically generated by the Streams page, found on the System menu of the LibreTime administration interface. For this reason, you would not normally edit the streaming configuration manually, as any changes are likely to be overwritten by the administration interface."><link data-react-helmet="true" rel="icon" href="/img/icon.svg"><link data-react-helmet="true" rel="canonical" href="https://libretime.org/docs/server-config/host-configuration/"><link data-react-helmet="true" rel="alternate" href="https://libretime.org/docs/server-config/host-configuration/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://libretime.org/docs/server-config/host-configuration/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.5c151bdb.css">
<link rel="preload" href="/assets/js/runtime~main.37e62165.js" as="script">
<link rel="preload" href="/assets/js/main.2585432c.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/icon.svg" alt="Libretime tower" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/icon.svg" alt="Libretime tower" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Libretime</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro/">Docs</a><a class="navbar__item navbar__link" href="/contribute/">Contribute</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_dNtB"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/docs/server-config/host-configuration/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li></ul></div><a href="https://github.com/libretime/libretime" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/getting-started/install/">Getting started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/guides/calendar/">Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/docs/server-config/backing-up-the-server/">Server configuration</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/server-config/backing-up-the-server/">Backing up LibreTime</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/server-config/freeipa/">FreeIPA configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/server-config/host-configuration/">Host configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/server-config/icecast/">Icecast Configuration</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/appendix/api/">Appendix</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/local-dev/">Local development</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/upgrading/">Upgrading LibreTime</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Host configuration</h1></header><p>The streaming host configuration for LibreTime is shown in the file <code>/etc/airtime/liquidsoap.cfg</code> which is automatically generated by the <strong>Streams</strong> page, found on the <strong>System</strong> menu of the LibreTime administration interface. For this reason, you would not normally edit the streaming configuration manually, as any changes are likely to be overwritten by the administration interface.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="database-and-rabbitmq-hosts">Database and RabbitMQ hosts<a class="hash-link" href="#database-and-rabbitmq-hosts" title="Direct link to heading">â€‹</a></h2><p>Optionally, you may wish to edit the file <code>/etc/airtime/airtime.conf</code> to set the PostgreSQL database host, and the username and password to connect to the database with.</p><p>You can also set options for RabbitMQ messaging and the LibreTime server in this file, although you should not normally need to adjust the defaults unless you are running a large LibreTime system distributed across multiple servers. To run the LibreTime server in demo mode, which changes the greeting on the login page and prevents user accounts from being created or modified, set the value of <em>demo</em> to 1.</p><div class="codeBlockContainer_I0IT language-ini theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">/etc/airtime/airtime.conf</div><div class="codeBlockContent_wNvx ini"><pre tabindex="0" class="prism-code language-ini codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">[database]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">host = localhost</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">port = 5432</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name = libretime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user = libretime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">password = libretime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[rabbitmq]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">host = 127.0.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">port = 5672</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user = airtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">password = XXXXXXXXXXXXXXXXXXXX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vhost = /airtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[general]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">api_key = XXXXXXXXXXXXXXXXXXXXX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">web_server_user = www-data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">airtime_dir = /usr/share/airtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">base_url = libretime.example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">base_port = 80</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">base_dir = /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cache_ahead_hours = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[monit]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">monit_user = guest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">monit_password = airtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[demo]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">demo = 0</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Save and close the file then, run the following commands to restart LibreTime&#x27;s services:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> systemctl restart libretime-liquidsoap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> systemctl restart libretime-playout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> systemctl restart libretime-celery</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> systemctl restart libretime-analyzer</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="api-client-configuration">API client configuration<a class="hash-link" href="#api-client-configuration" title="Direct link to heading">â€‹</a></h2><p>The LibreTime API enables many types of information about the broadcast schedule and configuration to be retrieved from the LibreTime server. Other than the live-info and week-info data fetched by website widgets (see the chapter <em>Exporting the schedule</em>), all API requests must be authenticated using the secret API key stored in the file <code>/etc/airtime/api_client.cfg</code> on the LibreTime server. This key is autogenerated during LibreTime installation and should be unique for each server.</p><p>If you intend to use the LibreTime API across a public network, for security reasons it is highly recommended that all API requests are sent over encrypted https: and that the web server is configured to accept requests to the api/ directory from specific host names or IP addresses only.</p><p>If you have changed the <em>base_url</em>, <em>base_port</em> or <em>base_dir</em> setting in <code>/etc/airtime/airtime.conf</code> from the defaults, you will probably also have to update the <em>Hostname</em> settings in the file <code>/etc/airtime/api_client.cfg</code> accordingly.</p><div class="codeBlockContainer_I0IT language-ini theme-code-block"><div class="codeBlockContent_wNvx ini"><pre tabindex="0" class="prism-code language-ini codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">bin_dir = /usr/lib/airtime/api_clients</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">api_key = &#x27;XXXXXXXXXXXXXXXXXXXX&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">api_base = api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">host = libretime.example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">base_port = 80</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">base_dir = /</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="apache-max-file-size-configuration">Apache max file size configuration<a class="hash-link" href="#apache-max-file-size-configuration" title="Direct link to heading">â€‹</a></h2><p>By default, the maximum upload file size is 40 MB, which may not be large enough for some stations, especially if they are uploading prerecorded shows. The setting for this is located in <code>/etc/apache2/sites-available/airtime.config</code>. Search for and update the following in megabytes:</p><div class="codeBlockContainer_I0IT language-ini theme-code-block"><div class="codeBlockContent_wNvx ini"><pre tabindex="0" class="prism-code language-ini codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">; Maximum allowed size for uploaded files.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">upload_max_filesize = 40M</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">; Must be greater than or equal to upload_max_filesize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">post_max_size = 40M</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>For quick reference, 1024 MB = 1 GB and 2048 MB = 2 GB, but most will be okay with rounding to the nearest thousand. After updating the config file, restart Apache with <code>sudo systemctl restart apache2</code>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="playout-settings">Playout settings<a class="hash-link" href="#playout-settings" title="Direct link to heading">â€‹</a></h2><p>Settings for pypo, the playout engine used by LibreTime, are found in the file <code>/etc/airtime/airtime.conf</code>. After making changes to this file, run <code>sudo systemctl restart libretime-playout</code>.</p><div class="codeBlockContainer_I0IT language-ini theme-code-block"><div class="codeBlockContent_wNvx ini"><pre tabindex="0" class="prism-code language-ini codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># pypo - configuration                     #</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set the type of client you are using.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Currently supported types:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 1) &quot;obp&quot; = Open Broadcast Platform</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2) &quot;airtime&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">api_client = airtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Cache Directories                        #</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># *include* trailing slash !!              #</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cache_dir = /var/tmp/airtime/pypo/cache/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">file_dir = /var/tmp/airtime/pypo/files/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tmp_dir = /var/tmp/airtime/pypo/tmp/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Setup Directories                        #</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Do *not* include trailing slash !!       #</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cache_base_dir = /var/tmp/airtime/pypo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bin_dir = /usr/lib/airtime/pypo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log_base_dir = /var/log/airtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pypo_log_dir = /var/log/airtime/pypo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">liquidsoap_log_dir = /var/log/airtime/pypo-liquidsoap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Liquidsoap settings                      #</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ls_host = 127.0.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ls_port = 1234</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># RabbitMQ settings                        #</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmq_host = localhost</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmq_user = airtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmq_password = XXXXXXXXXXXXXXXXXXXX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmq_vhost = /airtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># pypo preferences                         #</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Poll interval in seconds.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># This will rarely need to be changed because any schedule changes are</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># automatically sent to pypo immediately.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># This is how often the poll script downloads new schedules and files from the</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># server in the event that no changes are made to the schedule.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">poll_interval = 3600# in seconds.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Push interval in seconds.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># This is how often the push script checks whether it has something new to</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># push to liquidsoap.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># It&#x27;s hard to imagine a situation where this should be more than 1 second.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">push_interval = 1# in seconds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># &#x27;pre&#x27; or &#x27;otf&#x27;. &#x27;pre&#x27; cues while playlist preparation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># while &#x27;otf&#x27; (on the fly) cues while loading into ls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># (needs the post_processor patch)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cue_style = pre</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="rabbitmq-hostname-changes">RabbitMQ hostname changes<a class="hash-link" href="#rabbitmq-hostname-changes" title="Direct link to heading">â€‹</a></h2><p>If the Airtime logs indicate failures to connect to the RabbitMQ server, such as:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">2013-10-31 08:21:11,255 ERROR - [pypomessagehandler.py : main() : line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">99] - Error connecting to RabbitMQ Server. Trying again in few seconds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2013-10-31 08:21:11,255 ERROR - \[pypomessagehandler.py : main() : line 99\] - Error connecting to RabbitMQ Server. Trying again in few seconds - See more at: https://forum.sourcefabric.org/discussion/16050/#sthash.W8OJrNFm.dpuf</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>but the RabbitMQ server is running normally, this error might be due to a change in the server&#x27;s hostname since LibreTime installation. Directory names under <code>/var/lib/rabbitmq/mnesia/</code> indicate that RabbitMQ&#x27;s database files are organised according to the hostname of the server (ex. <code>rabbit@airtime</code>) where the hostname is <code>airtime.example.com</code>. If the hostname has changed, it may be necessary to reconfigure RabbitMQ manually, as follows:</p><ol><li>Delete the files in <code>/var/lib/rabbitmq/mnesia/</code></li></ol><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> -r /var/lib/rabbitmq/mnesia/*</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ol start="2"><li>Restart RabbitMQ:</li></ol><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> systemctl restart rabbitmq-server</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ol start="3"><li>Enter the following commands to set up authentication and grant permissions. The <em>rabbitmqctl add_user</em> command requires the RabbitMQ password from the /etc/airtime/airtime.conf file as an argument. The <em>rabbitmqctl set_permissions</em> command should be entered on one line, with the list of Airtime services repeated three times:</li></ol><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmqctl add_vhost /airtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmqctl add_user airtime XXXXXXXXXXXXXXXXXXXX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmqctl set_permissions -p /airtime airtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#e3116c">&quot;airtime-pypo|pypo-fetch|airtime-analyzer|media-monitor&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#e3116c">&quot;airtime-pypo|pypo-fetch|airtime-analyzer|media-monitor&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#e3116c">&quot;airtime-pypo|pypo-fetch|airtime-analyzer|media-monitor&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/libretime/libretime/../docs/server-config/host-configuration.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/server-config/freeipa/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">FreeIPA configuration</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/server-config/icecast/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Icecast Configuration</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#database-and-rabbitmq-hosts" class="table-of-contents__link toc-highlight">Database and RabbitMQ hosts</a></li><li><a href="#api-client-configuration" class="table-of-contents__link toc-highlight">API client configuration</a></li><li><a href="#apache-max-file-size-configuration" class="table-of-contents__link toc-highlight">Apache max file size configuration</a></li><li><a href="#playout-settings" class="table-of-contents__link toc-highlight">Playout settings</a></li><li><a href="#rabbitmq-hostname-changes" class="table-of-contents__link toc-highlight">RabbitMQ hostname changes</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro/">Install</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discourse.libretime.org" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discourse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://chat.libretime.org" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Mattermost<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/libretime/libretime" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Code licensed under AGPLv3; docs licensed under GPLv2.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.37e62165.js"></script>
<script src="/assets/js/main.2585432c.js"></script>
</body>
</html>