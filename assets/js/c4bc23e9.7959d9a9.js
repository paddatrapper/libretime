"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5419],{4561:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>n,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var o=a(7462),r=(a(7294),a(3905));a(1839);const i={title:"Backup",sidebar_position:10},n=void 0,s={unversionedId:"admin-manual/backup",id:"version-3.0.0-alpha.13/admin-manual/backup",title:"Backup",description:"Create a backup",source:"@site/versioned_docs/version-3.0.0-alpha.13/admin-manual/backup.md",sourceDirName:"admin-manual",slug:"/admin-manual/backup",permalink:"/docs/admin-manual/backup",draft:!1,editUrl:"https://github.com/libretime/libretime/blob/main/docs/versioned_docs/version-3.0.0-alpha.13/admin-manual/backup.md",tags:[],version:"3.0.0-alpha.13",sidebarPosition:10,frontMatter:{title:"Backup",sidebar_position:10},sidebar:"tutorialSidebar",previous:{title:"Migrate from Airtime",permalink:"/docs/admin-manual/setup/migrate-from-airtime"},next:{title:"Setting the server time",permalink:"/docs/admin-manual/server-time"}},u={},l=[{value:"Create a backup",id:"create-a-backup",level:2},{value:"Backup the configuration",id:"backup-the-configuration",level:3},{value:"Backup the database",id:"backup-the-database",level:3},{value:"Backup the storage",id:"backup-the-storage",level:3},{value:"Restore a backup",id:"restore-a-backup",level:2},{value:"Restore the configuration",id:"restore-the-configuration",level:3},{value:"Restore the database",id:"restore-the-database",level:3},{value:"Restore the storage",id:"restore-the-storage",level:3}],p={toc:l};function d(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,o.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"create-a-backup"},"Create a backup"),(0,r.kt)("p",null,"This guide walk you though the steps required to create a full backup of your installation."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Remember to ",(0,r.kt)("strong",{parentName:"p"},"automate")," and ",(0,r.kt)("strong",{parentName:"p"},"test")," the backup process and to have it run regularly. Having an ",(0,r.kt)("strong",{parentName:"p"},"automated")," and ",(0,r.kt)("strong",{parentName:"p"},"tested")," restoring process is also recommended.")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Feel free to pick the backup software of your choice, but know that rsync and similar tools are not backup tools. You could use ",(0,r.kt)("a",{parentName:"p",href:"https://restic.net/"},"restic")," or ",(0,r.kt)("a",{parentName:"p",href:"https://borgbackup.readthedocs.io/"},"borg"),".")),(0,r.kt)("h3",{id:"backup-the-configuration"},"Backup the configuration"),(0,r.kt)("p",null,"On common setups, you need to backup the entire ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/libretime")," folder."),(0,r.kt)("h3",{id:"backup-the-database"},"Backup the database"),(0,r.kt)("p",null,"You need to backup the PostgreSQL database, which holds the entire data of your installation."),(0,r.kt)("p",null,"Here is an example to dump your PostgreSQL database:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo -u postgres pg_dump --file=libretime.sql libretime\n")),(0,r.kt)("p",null,"Please read the ",(0,r.kt)("inlineCode",{parentName:"p"},"pg_dump")," usage for additional details."),(0,r.kt)("h3",{id:"backup-the-storage"},"Backup the storage"),(0,r.kt)("p",null,"You need to backup the entire file storage, which holds all the files of your installation."),(0,r.kt)("p",null,"The path to your storage was defined during the installation process."),(0,r.kt)("h2",{id:"restore-a-backup"},"Restore a backup"),(0,r.kt)("h3",{id:"restore-the-configuration"},"Restore the configuration"),(0,r.kt)("p",null,"Copy the backed configuration files back to the configuration folder."),(0,r.kt)("h3",{id:"restore-the-database"},"Restore the database"),(0,r.kt)("p",null,"\ud83d\udea7"),(0,r.kt)("h3",{id:"restore-the-storage"},"Restore the storage"),(0,r.kt)("p",null,"\ud83d\udea7"))}d.isMDXComponent=!0}}]);